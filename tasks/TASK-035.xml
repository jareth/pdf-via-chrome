<?xml version="1.0" encoding="UTF-8"?>
<task>
    <task-id>TASK-035</task-id>
    <task-name>Create Thymeleaf UI</task-name>
    <phase>Phase 6: Test Application</phase>
    <priority>MEDIUM</priority>
    <complexity>MODERATE</complexity>

    <dependencies>
        <dependency>TASK-034: Implement REST Endpoints</dependency>
    </dependencies>

    <description>
        Create web UI using Thymeleaf for interactive PDF generation testing.
        Provides forms for HTML and URL input with PDF options configuration.
    </description>

    <acceptance-criteria>
        <criterion>Main page accessible at GET /ui or /</criterion>
        <criterion>Form for HTML to PDF conversion with textarea</criterion>
        <criterion>Form for URL to PDF conversion with URL input</criterion>
        <criterion>UI elements for common PDF options (landscape, margins, etc.)</criterion>
        <criterion>Preview and Download buttons</criterion>
        <criterion>Error messages displayed for failures</criterion>
        <criterion>Responsive design (works on desktop and mobile)</criterion>
    </acceptance-criteria>

    <implementation-notes>
        <note>
            Create ViewController:
            @GetMapping("/")
            public String index(Model model)
        </note>
        <note>
            Thymeleaf template features:
            - Tabbed interface for HTML vs URL input
            - Textarea for HTML input (with syntax highlighting if possible)
            - URL input field with validation
            - Checkboxes for boolean options (landscape, printBackground, etc.)
            - Input fields for margins, scale, etc.
            - Submit button that calls REST API via JavaScript
            - Display area for errors and success messages
        </note>
        <note>
            Use Bootstrap or similar CSS framework for styling
        </note>
        <note>
            JavaScript to handle form submission and PDF download
        </note>
        <note>
            Add sample HTML templates in dropdown
        </note>
    </implementation-notes>

    <affected-files>
        <file>headless-chrome-pdf-test-app/src/main/java/com/github/headlesschromepdf/testapp/controller/ViewController.java</file>
        <file>headless-chrome-pdf-test-app/src/main/resources/templates/index.html</file>
        <file>headless-chrome-pdf-test-app/src/main/resources/static/css/style.css</file>
        <file>headless-chrome-pdf-test-app/src/main/resources/static/js/app.js</file>
    </affected-files>

    <testing-requirements>
        <requirement>Manual testing in browser</requirement>
        <requirement>Test HTML to PDF conversion via UI</requirement>
        <requirement>Test URL to PDF conversion via UI</requirement>
        <requirement>Test various PDF options</requirement>
        <requirement>Verify PDF downloads correctly</requirement>
    </testing-requirements>

    <estimated-effort>6-8 hours</estimated-effort>
</task>
