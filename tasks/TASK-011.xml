<?xml version="1.0" encoding="UTF-8"?>
<task>
    <task-id>TASK-011</task-id>
    <task-name>Create Exception Hierarchy</task-name>
    <phase>Phase 2: Core Infrastructure and Design Patterns</phase>
    <priority>HIGH</priority>
    <complexity>SIMPLE</complexity>

    <dependencies>
        <dependency>TASK-002: Setup Parent POM with Dependency Management</dependency>
    </dependencies>

    <description>
        Define custom exception hierarchy for the library. This provides clear,
        specific error types that library users can catch and handle appropriately.
    </description>

    <acceptance-criteria>
        <criterion>PdfGenerationException base class created (extends RuntimeException)</criterion>
        <criterion>ChromeNotFoundException for missing Chrome executable</criterion>
        <criterion>BrowserTimeoutException for browser startup/operation timeouts</criterion>
        <criterion>PageLoadException for page navigation failures</criterion>
        <criterion>All exceptions have meaningful constructors (message, cause)</criterion>
        <criterion>Exceptions are documented with Javadoc</criterion>
    </acceptance-criteria>

    <implementation-notes>
        <note>
            Exception hierarchy:
            PdfGenerationException (base)
            ├── ChromeNotFoundException
            ├── BrowserTimeoutException
            ├── PageLoadException
            └── CdpConnectionException
        </note>
        <note>
            PdfGenerationException should extend RuntimeException (unchecked)
        </note>
        <note>
            Each exception should have:
            - Constructor(String message)
            - Constructor(String message, Throwable cause)
            - Constructor(Throwable cause)
        </note>
        <note>
            Add comprehensive Javadoc explaining when each exception is thrown
        </note>
        <note>
            Consider adding error codes for programmatic handling
        </note>
    </implementation-notes>

    <affected-files>
        <file>headless-chrome-pdf-core/src/main/java/com/github/headlesschromepdf/exception/PdfGenerationException.java</file>
        <file>headless-chrome-pdf-core/src/main/java/com/github/headlesschromepdf/exception/ChromeNotFoundException.java</file>
        <file>headless-chrome-pdf-core/src/main/java/com/github/headlesschromepdf/exception/BrowserTimeoutException.java</file>
        <file>headless-chrome-pdf-core/src/main/java/com/github/headlesschromepdf/exception/PageLoadException.java</file>
        <file>headless-chrome-pdf-core/src/main/java/com/github/headlesschromepdf/exception/CdpConnectionException.java</file>
    </affected-files>

    <testing-requirements>
        <requirement>Test exception construction with message</requirement>
        <requirement>Test exception construction with message and cause</requirement>
        <requirement>Test exception inheritance hierarchy</requirement>
        <requirement>Verify Javadoc is complete</requirement>
    </testing-requirements>

    <estimated-effort>2-3 hours</estimated-effort>
</task>
